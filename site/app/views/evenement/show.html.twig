{% extends "_template/base.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="../asset/css/event.css">
    <style>
        .rating {
            margin: 15px 0;
            font-size: 1.2em;
        }
        .stars {
            color: #FFD700;
            font-size: 1.5em;
            letter-spacing: 2px;
        }
        .nb-avis {
            font-size: 0.9em;
            color: #666;
            font-style: italic;
        }
    </style>
{% endblock %}

{% block body %}
<article class="event-container">
    <h1>{{ event.nom }}</h1>
    
    <div class="event-header">
        <div class="event-meta">
            <time>{{ event.dateDebut|date('d/m/Y H:i') }}</time>
            <address>{{ event.adresse }}</address>
            <div class="price">{{ event.prix }} €</div>
        </div>
    </div>

    <div class="event-body">
        <p>{{ event.description }}</p>
        
        <div class="rating">
        {% if event.note_moyenne > 0 %}
            <div class="stars">
                {% for i in 1..5 %}
                    {% if i <= event.note_moyenne %}
                        ★
                    {% else %}
                        ☆
                    {% endif %}
                {% endfor %}
            </div>
            <span>{{ event.note_moyenne|number_format(1) }}/5</span>
            <span class="nb-avis">({{ event.nb_avis }} avis)</span>
        {% else %}
            <p>Pas encore noté</p>
        {% endif %}
</div>
    </div>

    <a href="/event.php" class="btn">Retour à la liste</a>
</article>
{% endblock %}